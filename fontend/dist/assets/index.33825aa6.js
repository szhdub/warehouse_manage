import{g as e,e as a,a as l}from"./index.c283ea82.js";import{r as t,s,f as o,g as r,v as i,w as n,A as d,F as u,p,l as c,G as m,m as g,o as b,x as y,t as h,n as v,e as w,j as f,h as I,E as N}from"./vendor.15027bbd.js";p("data-v-440e2660");const _=r("svg",{t:"1646977561352",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3057",width:"200",height:"200"},[r("path",{d:"M986.304 871.424L747.328 630.4c-2.816-2.752-5.888-4.928-8.768-7.232 40.32-62.464 63.936-136.832 63.936-216.96 0-220.16-176.96-398.592-395.392-398.592C188.8 7.616 11.712 186.048 11.712 406.208s177.088 398.592 395.392 398.592a391.232 391.232 0 0 0 215.36-64.576c2.24 3.072 4.352 6.08 7.04 8.832l239.04 241.024a82.688 82.688 0 0 0 117.76 0 84.48 84.48 0 0 0 0-118.656m-579.2-192.512c-149.12 0-270.528-122.368-270.528-272.704 0-150.4 121.344-272.768 270.528-272.768 149.12 0 270.528 122.432 270.528 272.768 0 150.4-121.408 272.704-270.528 272.704","p-id":"3058"})],-1),k=I("  查  询 "),x=r("svg",{t:"1647313957290",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2289",width:"200",height:"200"},[r("path",{d:"M395.9 406H288.5c-2.8 0-5.7-0.7-8.1-2.4-18.4-13.1-18.2-34.3-6.4-46.3l217.6-220.9c11.1-11.2 29.2-11.4 40.4-0.3l0.3 0.3 217.7 221c11.1 11.3 10.9 29.4-0.4 40.4-5.3 5.2-12.5 8.2-19.9 8.2H628.1v215.7c0 7.9-6.4 14.3-14.3 14.3H410.2c-7.9 0-14.3-6.4-14.3-14.3V406zM283.3 652.4v87.5c0 7.9 6.4 14.3 14.3 14.3h428.8c7.9 0 14.3-6.4 14.3-14.3v-87.5c0-7.9 6.4-14.3 14.3-14.3h142.9c7.9 0 14.3 6.4 14.3 14.3V914c0 7.9-6.4 14.3-14.3 14.3H126.1c-7.9 0-14.3-6.4-14.3-14.3V652.4c0-7.9 6.4-14.3 14.3-14.3H269c7.9 0 14.3 6.4 14.3 14.3z","p-id":"2290"})],-1),V=I("  导出数据 "),z=I("确定入库");c();const C={setup(p){const c=m(),I=t({storeId:1,productName:"",startTime:"",endTime:"",pageSize:5,pageNum:1,totalNum:0}),C=s(),T=()=>{c.query.storeId&&(I.storeId=parseInt(c.query.storeId)),e("/instore/instore-page-list",I).then((e=>{C.value=e.data.resultList,I.totalNum=e.data.totalNum}))};T();const U=s();e("/instore/store-list").then((e=>{U.value=e.data}));const H=()=>{e("/instore/exportTable",I).then((e=>{const l=e.data;l.reduce(((e,a)=>(a.isIn=1==a.isIn?"已入库":"未入库",e)),[]);a([{title:"入库单ID",key:"insId"},{title:"仓库名",key:"storeName"},{title:"商品名",key:"productName"},{title:"入库数量",key:"inNum"},{title:"入库价格",key:"inPrice"},{title:"入库状态",key:"isIn"},{title:"创建人",key:"userCode"},{title:"创建时间",key:"createTime"}],l,"入库单列表")}))},P=e=>{I.pageSize=e,T()},S=e=>{I.pageNum=e,T()};return(e,a)=>{const t=g("el-option"),s=g("el-select"),p=g("el-form-item"),c=g("el-input"),m=g("el-icon"),j=g("el-button"),M=g("el-form"),q=g("el-table-column"),B=g("el-table"),D=g("el-pagination");return b(),o(u,null,[r("div",null,[i(M,{inline:"",class:"searchForm"},{default:n((()=>[i(p,null,{default:n((()=>[i(s,{modelValue:d(I).storeId,"onUpdate:modelValue":a[0]||(a[0]=e=>d(I).storeId=e),style:{width:"120px"},clearable:""},{default:n((()=>[(b(!0),o(u,null,y(U.value,(e=>(b(),w(t,{label:e.storeName,value:e.storeId,key:e.storeId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(p,null,{default:n((()=>[i(c,{modelValue:d(I).productName,"onUpdate:modelValue":a[1]||(a[1]=e=>d(I).productName=e),placeholder:"商品名称",style:{width:"120px"},clearable:""},null,8,["modelValue"])])),_:1}),i(p,{label:"开始时间:"},{default:n((()=>[i(c,{type:"date",modelValue:d(I).startTime,"onUpdate:modelValue":a[2]||(a[2]=e=>d(I).startTime=e),style:{width:"120px"},clearable:""},null,8,["modelValue"])])),_:1}),i(p,{label:"结束时间:"},{default:n((()=>[i(c,{type:"date",modelValue:d(I).endTime,"onUpdate:modelValue":a[3]||(a[3]=e=>d(I).endTime=e),style:{width:"120px"},clearable:""},null,8,["modelValue"])])),_:1}),i(p,null,{default:n((()=>[i(j,{type:"primary",onClick:T},{default:n((()=>[i(m,null,{default:n((()=>[_])),_:1}),k])),_:1})])),_:1})])),_:1}),r("div",null,[i(j,{type:"warning",onClick:H},{default:n((()=>[i(m,null,{default:n((()=>[x])),_:1}),V])),_:1})])]),i(B,{data:C.value,style:{width:"100%","margin-top":"10px"},"table-layout":"auto",size:"large",border:"",stripe:""},{default:n((()=>[i(q,{prop:"insId",label:"入库单ID",sortable:""}),i(q,{prop:"storeName",label:"仓库名称",sortable:""}),i(q,{prop:"productName",label:"商品名称",sortable:""}),i(q,{prop:"inNum",label:"入库数量",sortable:""}),i(q,{prop:"inPrice",label:"入库价格",sortable:""}),i(q,{label:"入库状态",sortable:""},{default:n((e=>[r("span",{class:v({red:0==e.row.isIn,green:1==e.row.isIn})},h(0==e.row.isIn?"未入库":"已入库"),3)])),_:1}),i(q,{prop:"userCode",label:"创建人",sortable:""}),i(q,{prop:"createTime",label:"创建时间",sortable:""}),i(q,{label:"操作"},{default:n((e=>[0==e.row.isIn?(b(),w(j,{type:"primary",title:"确定入库",onClick:a=>{return t=e.row,void l("/instore/instore-confirm",t).then((e=>{N.success(e.message),T()}));var t},key:e.row.insId},{default:n((()=>[z])),_:2},1032,["onClick"])):f("",!0)])),_:1})])),_:1},8,["data"]),i(D,{background:"",total:d(I).totalNum,"page-sizes":[5,10,15,20,25,30],"page-size":d(I).pageSize,"onUpdate:page-size":a[4]||(a[4]=e=>d(I).pageSize=e),currentPage:d(I).pageNum,"onUpdate:currentPage":a[5]||(a[5]=e=>d(I).pageNum=e),layout:"total, sizes, prev, pager, next, jumper",style:{"margin-top":"20px"},onSizeChange:P,onCurrentChange:S},null,8,["total","page-size","currentPage"])],64)}},__scopeId:"data-v-440e2660"};export default C;
