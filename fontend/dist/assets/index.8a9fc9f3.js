import{g as e,e as t,a as l}from"./index.c283ea82.js";import{r as a,s as o,f as s,g as u,v as r,w as d,A as i,F as n,p,l as c,G as m,m as b,o as g,x as y,t as v,n as h,e as w,j as f,h as _,E as N}from"./vendor.15027bbd.js";p("data-v-78be1382");const V=u("svg",{t:"1646977561352",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3057",width:"200",height:"200"},[u("path",{d:"M986.304 871.424L747.328 630.4c-2.816-2.752-5.888-4.928-8.768-7.232 40.32-62.464 63.936-136.832 63.936-216.96 0-220.16-176.96-398.592-395.392-398.592C188.8 7.616 11.712 186.048 11.712 406.208s177.088 398.592 395.392 398.592a391.232 391.232 0 0 0 215.36-64.576c2.24 3.072 4.352 6.08 7.04 8.832l239.04 241.024a82.688 82.688 0 0 0 117.76 0 84.48 84.48 0 0 0 0-118.656m-579.2-192.512c-149.12 0-270.528-122.368-270.528-272.704 0-150.4 121.344-272.768 270.528-272.768 149.12 0 270.528 122.432 270.528 272.768 0 150.4-121.408 272.704-270.528 272.704","p-id":"3058"})],-1),k=_("  查  询 "),x=u("svg",{t:"1647313957290",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2289",width:"200",height:"200"},[u("path",{d:"M395.9 406H288.5c-2.8 0-5.7-0.7-8.1-2.4-18.4-13.1-18.2-34.3-6.4-46.3l217.6-220.9c11.1-11.2 29.2-11.4 40.4-0.3l0.3 0.3 217.7 221c11.1 11.3 10.9 29.4-0.4 40.4-5.3 5.2-12.5 8.2-19.9 8.2H628.1v215.7c0 7.9-6.4 14.3-14.3 14.3H410.2c-7.9 0-14.3-6.4-14.3-14.3V406zM283.3 652.4v87.5c0 7.9 6.4 14.3 14.3 14.3h428.8c7.9 0 14.3-6.4 14.3-14.3v-87.5c0-7.9 6.4-14.3 14.3-14.3h142.9c7.9 0 14.3 6.4 14.3 14.3V914c0 7.9-6.4 14.3-14.3 14.3H126.1c-7.9 0-14.3-6.4-14.3-14.3V652.4c0-7.9 6.4-14.3 14.3-14.3H269c7.9 0 14.3 6.4 14.3 14.3z","p-id":"2290"})],-1),I=_("  导出数据 "),z=_("确定出库");c();const C={setup(p){const c=m(),_=a({storeId:1,productName:"",startTime:"",endTime:"",isOut:"",pageSize:5,pageNum:1,totalNum:0}),C=o(),O=()=>{c.query.storeId&&(_.storeId=parseInt(c.query.storeId)),e("/outstore/outstore-page-list",_).then((e=>{C.value=e.data.resultList,_.totalNum=e.data.totalNum}))};O();const T=o();e("/outstore/store-list").then((e=>{T.value=e.data}));const U=()=>{e("/outstore/exportTable",_).then((e=>{const l=e.data;l.reduce(((e,t)=>(t.isIn=1==t.isOut?"已出库":"未出库",e)),[]);t([{title:"出库单ID",key:"outsId"},{title:"仓库名称",key:"storeName"},{title:"商品名称",key:"productName"},{title:"理货员",key:"tallyCode"},{title:"出库数量",key:"outNum"},{title:"出库价格",key:"outPrice"},{title:"出库状态",key:"isOut"},{title:"创建人",key:"userCode"},{title:"创建时间",key:"createTime"}],l,"出库单列表")}))},H=e=>{_.pageSize=e,O()},S=e=>{_.pageNum=e,O()};return(e,t)=>{const a=b("el-option"),o=b("el-select"),p=b("el-form-item"),c=b("el-input"),m=b("el-icon"),j=b("el-button"),P=b("el-form"),M=b("el-table-column"),q=b("el-table"),B=b("el-pagination");return g(),s(n,null,[u("div",null,[r(P,{inline:"",class:"searchForm"},{default:d((()=>[r(p,null,{default:d((()=>[r(o,{modelValue:i(_).storeId,"onUpdate:modelValue":t[0]||(t[0]=e=>i(_).storeId=e),style:{width:"120px"},clearable:""},{default:d((()=>[(g(!0),s(n,null,y(T.value,(e=>(g(),w(a,{label:e.storeName,value:e.storeId,key:e.storeId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),r(p,null,{default:d((()=>[r(c,{modelValue:i(_).productName,"onUpdate:modelValue":t[1]||(t[1]=e=>i(_).productName=e),placeholder:"商品名称",style:{width:"120px"},clearable:""},null,8,["modelValue"])])),_:1}),r(p,{label:"开始时间:"},{default:d((()=>[r(c,{type:"date",modelValue:i(_).startTime,"onUpdate:modelValue":t[2]||(t[2]=e=>i(_).startTime=e),style:{width:"120px"},clearable:""},null,8,["modelValue"])])),_:1}),r(p,{label:"结束时间:"},{default:d((()=>[r(c,{type:"date",modelValue:i(_).endTime,"onUpdate:modelValue":t[3]||(t[3]=e=>i(_).endTime=e),style:{width:"120px"},clearable:""},null,8,["modelValue"])])),_:1}),r(p,null,{default:d((()=>[r(o,{modelValue:i(_).isOut,"onUpdate:modelValue":t[4]||(t[4]=e=>i(_).isOut=e),style:{width:"120px"},clearable:""},{default:d((()=>[r(a,{label:"未出库",value:0}),r(a,{label:"已出库",value:1})])),_:1},8,["modelValue"])])),_:1}),r(p,null,{default:d((()=>[r(j,{type:"primary",onClick:O},{default:d((()=>[r(m,null,{default:d((()=>[V])),_:1}),k])),_:1})])),_:1})])),_:1}),u("div",null,[r(j,{type:"warning",onClick:U},{default:d((()=>[r(m,null,{default:d((()=>[x])),_:1}),I])),_:1})])]),r(q,{data:C.value,style:{width:"100%","margin-top":"10px"},"table-layout":"auto",size:"large",border:"",stripe:""},{default:d((()=>[r(M,{prop:"outsId",label:"出库单ID",sortable:""}),r(M,{prop:"storeName",label:"仓库名称",sortable:""}),r(M,{prop:"productName",label:"商品名称",sortable:""}),r(M,{prop:"tallyCode",label:"理货员",sortable:""}),r(M,{prop:"outNum",label:"出库数量",sortable:""}),r(M,{label:"出库状态",sortable:""},{default:d((e=>[u("span",{class:h({red:0==e.row.isOut,green:1==e.row.isOut})},v(0==e.row.isOut?"未出库":"已出库"),3)])),_:1}),r(M,{prop:"userCode",label:"创建人",sortable:""}),r(M,{prop:"createTime",label:"创建时间",sortable:""}),r(M,{label:"操作"},{default:d((e=>[0==e.row.isOut?(g(),w(j,{type:"primary",title:"确定出库",onClick:t=>{return a=e.row,void l("/outstore/outstore-confirm",a).then((e=>{N.success(e.message),O()}));var a},key:e.row.outsId},{default:d((()=>[z])),_:2},1032,["onClick"])):f("",!0)])),_:1})])),_:1},8,["data"]),r(B,{background:"",total:i(_).totalNum,"page-sizes":[5,10,15,20,25,30],"page-size":i(_).pageSize,"onUpdate:page-size":t[5]||(t[5]=e=>i(_).pageSize=e),currentPage:i(_).pageNum,"onUpdate:currentPage":t[6]||(t[6]=e=>i(_).pageNum=e),layout:"total, sizes, prev, pager, next, jumper",style:{"margin-top":"20px"},onSizeChange:H,onCurrentChange:S},null,8,["total","page-size","currentPage"])],64)}},__scopeId:"data-v-78be1382"};export default C;
